(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{343:function(s,n,e){"use strict";e.r(n);var t=e(5),a=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[n("strong",[s._v("Vue项目中使用svg小图标")])]),s._v(" "),n("h3",{attrs:{id:"安装svg-sprite-loader和配置vue-config-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装svg-sprite-loader和配置vue-config-js"}},[s._v("#")]),s._v(" 安装svg-sprite-loader和配置vue.config.js")]),s._v(" "),n("ol",[n("li",[s._v("安装")])]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm install svg-sprite-loader -S\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("配置规则")])]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//vue.config.js\n// 内置路径包\nconst path = require("path");\n\n// 定义resolve方法，获取绝对路径\nfunction resolve(dir) {\n  return path.join(__dirname, dir);\n}\n\nmodule.exports = {\n  chainWebpack: config => {\n    // 配置svg默认规则排除svg目录中svg文件处理\n    config.module\n      .rule("svg")\n      .exclude.add(resolve("src/assets/svg"))\n      .end();\n\n    // 新增icons规则，设置svg-sprite-loader处理svg目录中svg文件\n    config.module\n      .rule("icons")\n      .test(/\\.svg$/)\n      .include.add(resolve("src/assets/svg"))\n      .end()\n      .use("svg-sprite-loader")\n      .loader("svg-sprite-loader")\n      .options({ symbolId: "icon-[name]" })\n      .end();\n  },\n}\n')])])]),n("h3",{attrs:{id:"svgicon组件代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#svgicon组件代码"}},[s._v("#")]),s._v(" SvgIcon组件代码")]),s._v(" "),n("ul",[n("li",[s._v("一般放在/src/components")])]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<template>\n    <svg :class=\"svgClass\" aria-hidden=\"true\">\n        <use :xlink:href=\"iconName\"></use>\n    </svg>\n</template>\n\n<script>\nexport default {\n    name: 'svg-icon',\n    props: {\n        iconClass: {\n            type: String,\n            required: true\n        },\n        className: {\n            type: String\n        }\n    },\n    computed: {\n        iconName() {\n            return `#icon-${this.iconClass}`\n        },\n        svgClass() {\n            if (this.className) {\n                return 'svg-icon ' + this.className\n            } else {\n                return 'svg-icon'\n            }\n        }\n    }\n}\n<\/script>\n\n<style scoped>\n.svg-icon {\n    width: 1em;\n    height: 1em;\n    vertical-align: -0.15em;\n    /* 此属性为更改svg颜色属性设置 */\n    fill: currentColor;\n    overflow: hidden;\n}\n</style>\n")])])]),n("h3",{attrs:{id:"注册svgicon为全局组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注册svgicon为全局组件"}},[s._v("#")]),s._v(" 注册SvgIcon为全局组件")]),s._v(" "),n("ul",[n("li",[s._v("在/src/assets创建svg文件夹，里面放svg图片和一个index.js")])]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//index.js\nimport Vue from 'vue'\nimport SvgIcon from '@/components/SvgIcon'\n\n// 全局注册组件\nVue.component('svg-icon', SvgIcon)\n// 定义一个加载目录的函数\nconst requireAll = requireContext => requireContext.keys().map(requireContext)\nconst req = require.context('@/assets/svg', false, /\\.svg$/)\n// 加载目录下的所有 svg 文件\nrequireAll(req)\n")])])]),n("h3",{attrs:{id:"使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),n("ol",[n("li",[s._v("main.js引入")])]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// 引入svg\nimport './assets/svg';\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("组件调用")])]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//class-name:可设置颜色，大小；icon-class:svg图片的名字\n//如果颜色无效，需要将svg的fill的值设置为空“fill=""”\n<svg-icon class-name="quanbu" icon-class="quanbu"></svg-icon>\n')])])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("同时使用阿里的iconfont")])]),s._v(" "),n("ul",[n("li",[s._v("在项目设置里FontClass/Symbol 前缀不设置（因为默认值icon-），下载到本地放在/assets/iconfonts")])]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//main.js引入后，跟自己的svg图片一样使用\nimport "./assets/iconfonts/iconfont.js";\n')])])])])}),[],!1,null,null,null);n.default=a.exports}}]);