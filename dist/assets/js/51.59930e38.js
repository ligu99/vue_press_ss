(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{346:function(t,e,a){"use strict";a.r(e);var n=a(5),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("strong",[t._v("需求：某个参数需要传入多个的情况")])]),t._v(" "),e("p",[t._v("选择器是多选的情况，多选的数据是一个数组，直接将数组入参，无法达到效果。\n开始想到的方法是将数据进行拼接，后面想到可以使用transformRequest方法进行参数格式化，方便其他地方调用")]),t._v(" "),e("p",[e("strong",[t._v("方式一：拼接")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('//组件 selectValue是个数组\nlet params =""\nthis.selectValue.forEach(item => {\n    params += `member=${item}&`\n});\nparams += `teamId=${this.teamId}`;\nthis.addMem(params);\n')])])]),e("p",[t._v("封装的方法")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("export const postRequest = (url, params) => {\n    return http({\n        method: 'post',\n        url: url,\n        data: params,\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        },\n    });\n}\n")])])]),e("p",[e("strong",[t._v("方式二：transformRequest方法进行参数格式化")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("//组件 selectValue是个数组\nlet params = {\n    member: this.selectValue,\n    teamId: this.teamId\n};\nthis.addMem(params);\n")])])]),e("p",[t._v("封装的方法")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("export const postStrReq = (url, params) => {\n    return http({\n        method: 'post',\n        url: url,\n        data: params,\n        transformRequest: [function (data) {\n            let ret = '';\n            for (let it in data) {\n                ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&';\n            }\n            return ret.slice(0, -1);\n        }],\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        },\n    });\n}\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);